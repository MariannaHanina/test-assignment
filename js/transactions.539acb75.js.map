{"version":3,"file":"js/transactions.539acb75.js","mappings":"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","sources":["webpack://test-assignment/./src/views/TransactionsView.vue","webpack://test-assignment/./src/utils/transactions.js","webpack://test-assignment/./node_modules/@babel/runtime/helpers/esm/checkPrivateRedeclaration.js","webpack://test-assignment/./node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js","webpack://test-assignment/./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorGet.js","webpack://test-assignment/./node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js","webpack://test-assignment/./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js","webpack://test-assignment/./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorSet.js","webpack://test-assignment/./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js","webpack://test-assignment/./src/API/WebSocketAPI.js","webpack://test-assignment/./src/services/TransactionsService.js","webpack://test-assignment/./src/components/transactions/TransactionsActions.vue","webpack://test-assignment/src/components/transactions/TransactionsActions.vue","webpack://test-assignment/./src/components/transactions/TransactionsActions.vue?505c","webpack://test-assignment/./src/components/transactions/TransactionsActions.vue?47f5","webpack://test-assignment/./src/components/transactions/TransactionsSum.vue","webpack://test-assignment/src/components/transactions/TransactionsSum.vue","webpack://test-assignment/./src/components/transactions/TransactionsSum.vue?5194","webpack://test-assignment/./src/components/transactions/TransactionsSum.vue?176d","webpack://test-assignment/./src/components/transactions/TransactionsTable.vue","webpack://test-assignment/src/components/transactions/TransactionsTable.vue","webpack://test-assignment/./src/components/transactions/TransactionsTable.vue?c43b","webpack://test-assignment/./src/components/transactions/TransactionsTable.vue?6b32","webpack://test-assignment/src/views/TransactionsView.vue","webpack://test-assignment/./src/views/TransactionsView.vue?a438","webpack://test-assignment/./src/views/TransactionsView.vue?77a0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"transactionss\"},[_c('h1',[_vm._v(\"Bitcoin Transactions\")]),_c('transactions-actions',{on:{\"start\":_vm.start,\"stop\":_vm.stop,\"reset\":_vm.reset}}),(_vm.transactions.length)?_c('transactions-sum',{attrs:{\"sum\":_vm.sum}}):_vm._e(),(_vm.transactions.length)?_c('transactions-table',{attrs:{\"transactions\":_vm.transactions}}):_vm._e(),_c('modal-dialog',{directives:[{name:\"show\",rawName:\"v-show\",value:(!!_vm.alerts.length),expression:\"!!alerts.length\"}],on:{\"close\":_vm.closeModal},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" Blockchain Connection Alerts \")]},proxy:true}])},[_c('div',_vm._l((_vm.alerts),function({id, type, message}){return _c('div',{key:id},[_vm._v(\" \"+_vm._s(type)+\": \"+_vm._s(message)+\" \")])}),0)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const getInputsInfo = (inputs) => {\r\n  const inputsAddresses = [];\r\n  let sumInputsValue = 0;\r\n\r\n  for (let input of inputs) {\r\n    const { addr, value } = input.prev_out;\r\n    inputsAddresses.push(addr);\r\n    sumInputsValue += value;\r\n  }\r\n\r\n  return {\r\n    inputsAddresses,\r\n    sumInputsValue\r\n  }\r\n}\r\n\r\nconst getOutInfo = (outs) => {\r\n  const outAddresses = [];\r\n  let sumOutValue = 0;\r\n\r\n  for (let out of outs) {\r\n    const { addr, value } = out;\r\n    outAddresses.push(addr);\r\n    sumOutValue += value;\r\n  }\r\n\r\n  return {\r\n    outAddresses,\r\n    sumOutValue\r\n  }\r\n}\r\n\r\nexport const formatTransactionData = (transactionData) => {\r\n  if (!transactionData.x) return false;\r\n  const { inputs, out } = transactionData.x;\r\n  const { inputsAddresses, sumInputsValue } = getInputsInfo(inputs);\r\n  const { outAddresses, sumOutValue } = getOutInfo(out);\r\n  const profit = sumInputsValue - sumOutValue;\r\n \r\n  return {\r\n    from: inputsAddresses,\r\n    to: outAddresses,\r\n    sum: profit\r\n  }\r\n}","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nexport default function _classPrivateFieldInitSpec(obj, privateMap, value) {\n  checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}","import classApplyDescriptorGet from \"./classApplyDescriptorGet.js\";\nimport classExtractFieldDescriptor from \"./classExtractFieldDescriptor.js\";\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}","import classApplyDescriptorSet from \"./classApplyDescriptorSet.js\";\nimport classExtractFieldDescriptor from \"./classExtractFieldDescriptor.js\";\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}","export default class WebSocketAPI {\r\n  #socket = null;\r\n\r\n  constructor(url) {\r\n    this.url = url;\r\n  }\r\n\r\n  connect() {\r\n    this.#socket = new WebSocket(this.url);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.#socket.onopen = () => {\r\n        if (this.#socket.readyState === 1) {\r\n          resolve('connected');\r\n        }\r\n        reject('rejected');\r\n      };\r\n    });\r\n  }\r\n\r\n  send(message) {\r\n    const messageJSON = JSON.stringify(message);\r\n    this.#socket.send(messageJSON);\r\n  }\r\n\r\n  onMessage(callback) {\r\n    this.#socket.onmessage = (e) => {\r\n      if (e.data) {\r\n        const data = JSON.parse(e.data);\r\n        callback(data);\r\n      }\r\n    }\r\n  }\r\n\r\n  onClose(callback) {\r\n    this.#socket.onclose = (e) => {\r\n      let message;\r\n\r\n      if (e.wasClean) {\r\n        message = 'Connection closed cleanly';\r\n      } else {\r\n        message = 'Connection failure';\r\n      }\r\n\r\n      console.log(`Code: ${e.code} cause: ${e.reason}`);\r\n      callback({\r\n        type: 'close',\r\n        message\r\n      });\r\n    };\r\n  }\r\n\r\n  onError(callback) {\r\n    this.#socket.onerror = (error) => {\r\n      callback({\r\n        type: 'error',\r\n        message: error.message\r\n      })\r\n    }\r\n  }\r\n}","import WebSocketAPI from \"@/API/WebSocketAPI\";\r\n\r\nexport default class TransactionsService {\r\n  #url = 'wss://ws.blockchain.info/inv';\r\n  #websocket = null;\r\n\r\n  constructor() {\r\n    this.#websocket = new WebSocketAPI(this.#url);\r\n  }\r\n\r\n  async connect() {\r\n    return await this.#websocket.connect();\r\n  }\r\n\r\n  subscribe() {\r\n    this.#websocket.send({\r\n      \"op\": \"unconfirmed_sub\"\r\n    });\r\n  }\r\n\r\n  unsubscribe() {\r\n    this.#websocket.send({\r\n      \"op\": \"unconfirmed_unsub\"\r\n    });\r\n  }\r\n\r\n  async getTransaction(callback) {\r\n    this.#websocket.onMessage(callback); \r\n  }\r\n\r\n  async getAlert(callback) {\r\n    this.#websocket.onClose(callback);\r\n    this.#websocket.onError(callback);\r\n  }\r\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"transactions-actions\"},[_c('button',{staticClass:\"button button-start\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.start}},[_vm._v(\" Запуск \")]),_c('button',{staticClass:\"button button-stop\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.stop}},[_vm._v(\" Остановка \")]),_c('button',{staticClass:\"button button-reset\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.reset}},[_vm._v(\" Сброс \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"transactions-actions\">\r\n    <button\r\n      class=\"button button-start\"\r\n      type=\"button\" \r\n      @click=\"start\"\r\n    >\r\n      Запуск\r\n    </button>\r\n    <button\r\n      class=\"button button-stop\"\r\n      type=\"button\"\r\n      @click=\"stop\"\r\n    >\r\n      Остановка\r\n    </button>\r\n    <button\r\n      class=\"button button-reset\"\r\n      type=\"button\"\r\n      @click=\"reset\"\r\n    >\r\n      Сброс\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TransactionsActions',\r\n  emits: ['start', 'stop', 'reset'],\r\n  methods: {\r\n    start() {\r\n      this.$emit('start');\r\n    },\r\n    stop() {\r\n      this.$emit('stop');\r\n    },\r\n    reset() {\r\n      this.$emit('reset');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.transactions-actions {\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n.button {\r\n  border: 0;\r\n  border-radius: 5px;\r\n\r\n  padding: 10px;\r\n  width: 150px;\r\n\r\n  color: #fff;\r\n  font-size: 1.1rem;\r\n\r\n  cursor: pointer;\r\n}\r\n.button-start {\r\n  background-color: #52b41d;\r\n}\r\n.button-stop {\r\n  background-color: #dd5827;\r\n}\r\n\r\n.button-reset {\r\n  background-color: #ddb127;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TransactionsActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TransactionsActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionsActions.vue?vue&type=template&id=b516ef4c&scoped=true&\"\nimport script from \"./TransactionsActions.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionsActions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransactionsActions.vue?vue&type=style&index=0&id=b516ef4c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b516ef4c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"transactions-sum\"},[_vm._v(\" Сумма: \"+_vm._s(_vm._f(\"BTC\")(_vm.sum))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"transactions-sum\">\r\n    Сумма: {{ sum | BTC }} \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'TransactionsSum',\r\n    props: {\r\n      sum: {\r\n        type: Number,\r\n        default: 0\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n.transactions-sum {\r\n  font-size: 1.1rem;\r\n  text-align: center;\r\n  \r\n  margin-top: 50px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TransactionsSum.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TransactionsSum.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionsSum.vue?vue&type=template&id=28a70679&\"\nimport script from \"./TransactionsSum.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionsSum.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransactionsSum.vue?vue&type=style&index=0&id=28a70679&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('table',{staticClass:\"transaction-table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.transactions),function({from, to, sum},tindex){return _c('tr',{key:`trns-${tindex}`},[_c('td',{staticClass:\"transaction-table-td\"},_vm._l((from),function(address,aindex){return _c('div',{key:`frmadd-${aindex}`},[_vm._v(_vm._s(address))])}),0),_c('td',{staticClass:\"transaction-table-td\"},_vm._l((to),function(address,aindex){return _c('div',{key:`toadd-${aindex}`},[_vm._v(_vm._s(address))])}),0),_c('td',{staticClass:\"transaction-table-td\"},[_vm._v(_vm._s(_vm._f(\"BTC\")(sum))+\" \")])])}),0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{staticClass:\"transaction-table-th\"},[_vm._v(\"From\")]),_c('th',{staticClass:\"transaction-table-th\"},[_vm._v(\"To\")]),_c('th',{staticClass:\"transaction-table-th\"},[_vm._v(\"Sum\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <table class=\"transaction-table\">\r\n    <thead>\r\n      <tr>\r\n        <th class=\"transaction-table-th\">From</th>\r\n        <th class=\"transaction-table-th\">To</th>\r\n        <th class=\"transaction-table-th\">Sum</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"({from, to, sum}, tindex) in transactions\" :key=\"`trns-${tindex}`\">\r\n        <td class=\"transaction-table-td\">\r\n          <div v-for=\"(address, aindex) in from\" :key=\"`frmadd-${aindex}`\">{{address}}</div>\r\n        </td>\r\n        <td class=\"transaction-table-td\">\r\n          <div v-for=\"(address, aindex) in to\" :key=\"`toadd-${aindex}`\">{{address}}</div>\r\n        </td>\r\n        <td class=\"transaction-table-td\">{{sum | BTC}} </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TransactionsTable',\r\n  props: {\r\n    transactions: {\r\n      type: Array, \r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.transaction-table {\r\n  border-collapse: inherit;\r\n  border-spacing: 0;\r\n\r\n  margin: 30px auto;\r\n  width: 90vw;\r\n}\r\n.transaction-table-td,\r\n.transaction-table-th{\r\n  border: 1px solid gray;\r\n  padding: 20px;\r\n\r\n  text-align: center;\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TransactionsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TransactionsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionsTable.vue?vue&type=template&id=b92dccf2&scoped=true&\"\nimport script from \"./TransactionsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransactionsTable.vue?vue&type=style&index=0&id=b92dccf2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b92dccf2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"transactionss\">\r\n    <h1>Bitcoin Transactions</h1>\r\n    <transactions-actions\r\n      @start=\"start\"\r\n      @stop=\"stop\"\r\n      @reset=\"reset\"\r\n    />\r\n    <transactions-sum\r\n      v-if=\"transactions.length\" \r\n      :sum=\"sum\"\r\n    />\r\n    <transactions-table\r\n      v-if=\"transactions.length\" \r\n      :transactions=\"transactions\"\r\n    />\r\n    <modal-dialog v-show=\"!!alerts.length\" @close=\"closeModal\">\r\n      <template #header>\r\n        Blockchain Connection Alerts\r\n      </template>\r\n      <div>\r\n        <div v-for=\"{id, type, message} in alerts\" :key=\"id\">\r\n          {{type}}: {{message}}\r\n        </div> \r\n      </div>\r\n    </modal-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { formatTransactionData } from '@/utils/transactions';\r\nimport TransactionsService from '@/services/TransactionsService';\r\nimport TransactionsActions from '@/components/transactions/TransactionsActions';\r\nimport TransactionsSum from '@/components/transactions/TransactionsSum';\r\nimport TransactionsTable from '@/components/transactions/TransactionsTable';\r\nimport ModalDialog from '@/components/ui/ModalDialog';\r\n\r\nexport default {\r\n  name: 'TransactionsView',\r\n  components: {\r\n    'transactions-actions': TransactionsActions,\r\n    'transactions-sum': TransactionsSum,\r\n    'transactions-table': TransactionsTable,\r\n    'modal-dialog': ModalDialog\r\n  },\r\n  data() {\r\n    return {\r\n      transactions: [],\r\n      alerts: []\r\n    }\r\n  },\r\n  async created() {\r\n    this.service = new TransactionsService();\r\n    await this.service.connect();\r\n  },\r\n  computed: {\r\n    sum() {\r\n      return this.transactions.reduce((fullSum, { sum }) => fullSum + sum, 0);\r\n    }\r\n  },\r\n  methods: {\r\n    start() {\r\n      this.service.subscribe();\r\n      this.service.getTransaction(this.addTransaction);\r\n      this.service.getAlert(this.addAlert);\r\n    },\r\n    stop() {\r\n      this.service.unsubscribe();\r\n    },\r\n    reset() {\r\n      this.transactions = [];\r\n    },\r\n    addTransaction(data) {\r\n      const formattedData = formatTransactionData(data);\r\n      this.transactions = [...this.transactions, formattedData];\r\n    },\r\n    addAlert(alertMessage) {\r\n      this.alerts = [...this.alerts,  {...alertMessage, id: Date.now()}];\r\n    },\r\n    closeModal() {\r\n      this.alerts = [];\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  \r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TransactionsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TransactionsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionsView.vue?vue&type=template&id=eda9ef32&scoped=true&\"\nimport script from \"./TransactionsView.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionsView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eda9ef32\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","on","start","stop","reset","transactions","length","attrs","sum","_e","directives","name","rawName","value","alerts","expression","closeModal","scopedSlots","_u","key","fn","proxy","_l","id","type","message","_s","staticRenderFns","getInputsInfo","inputs","inputsAddresses","sumInputsValue","input","addr","prev_out","push","getOutInfo","outs","outAddresses","sumOutValue","out","formatTransactionData","transactionData","x","profit","from","to","_checkPrivateRedeclaration","obj","privateCollection","has","TypeError","_classPrivateFieldInitSpec","privateMap","checkPrivateRedeclaration","set","_classApplyDescriptorGet","receiver","descriptor","get","call","_classExtractFieldDescriptor","action","_classPrivateFieldGet","classExtractFieldDescriptor","classApplyDescriptorGet","_classApplyDescriptorSet","writable","_classPrivateFieldSet","classApplyDescriptorSet","WebSocketAPI","constructor","url","connect","WebSocket","Promise","resolve","reject","onopen","readyState","send","messageJSON","JSON","stringify","onMessage","callback","onmessage","e","data","parse","onClose","onclose","wasClean","console","log","code","reason","onError","onerror","error","TransactionsService","async","subscribe","unsubscribe","emits","methods","component","_f","props","default","_m","tindex","address","aindex","required","components","computed","addTransaction","addAlert"],"sourceRoot":""}